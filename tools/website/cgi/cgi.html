<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>CGI Script Test</title>
	<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
	<link rel="icon" href="/favicon.png">
	<link rel="stylesheet" type="text/css" href="/style.css">
	<script>
		async function handleSubmit(event) {
			event.preventDefault();
			const name = document.getElementById('name').value;

			try {
				const response = await fetch('cgi/script.py', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded',
					},
					body: `name=${encodeURIComponent(name)}`,
				});

				if (!response.ok) {
					throw new Error('Network response was not ok');
				}

				const result = await response.text();
				alert(result);
			} catch (error) {
				alert('An error occurred: ' + error.message);
			}
		}
	</script>
</head>

<body>
	<div class="container mx-auto text-center mt-20">
		<h1 class="text-4xl font-bold mb-10">CGI Script Test</h1>
		<p class="mb-5">Enter your name and submit to execute a CGI script.</p>
		<form onsubmit="handleSubmit(event)" class="mb-5">
			<input 
				type="text" 
				id="name" 
				name="name" 
				placeholder="Enter your name" 
				class="border border-gray-300 rounded py-2 px-4 mb-4"
				required>
			<button 
				type="submit" 
				class="bg-yellow-500 text-white py-2 px-4 rounded">
				Submit
			</button>
		</form>
	</div>
</body>
</html>
